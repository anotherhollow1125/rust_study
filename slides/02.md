---
marp: true
theme: rustlings
footer: "Rustå‹‰å¼·ä¼š2ã€ç¬¬2å›ã€‘"
paginate: true
---
<!--
_footer: ""
_paginate: skip
-->

<div class="topbottom-align">
<div class="slide-title">
    <h1>Rustå‹‰å¼·ä¼š2</h1>
</div>

<div class="slide-info">
    <div>ã€œã€ç¬¬2å›ã€‘ å¤‰æ•°ãƒ»é–¢æ•° ã€œ</div>
</div>
</div>

---

# ã€ç¬¬2å›ã€‘ç›®æ¬¡

1. å¤‰æ•°
2. é–¢æ•°

---
<!--
footer: "Rustå‹‰å¼·ä¼š2ã€ç¬¬2å›ã€‘(1. å¤‰æ•°)"
-->

<div class="group-title">
    <h1>1. å¤‰æ•°</h1>
</div>

---

# å¤‰æ•°å®£è¨€ãƒ» `let` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰

å¤‰æ•°å®£è¨€ã«ã¯ `let` ã‚’ä½¿ã„ã¾ã™ã€‚ä¸å¤‰ãªå¤‰æ•°ãŒå®£è¨€ã•ã‚Œã¾ã™ã€‚

```rust
let x = 5;
let x: usize = 5; // å‹ã‚’æ˜è¨˜ã™ã‚‹å ´åˆ
```

`let mut` ã¨ã™ã‚‹ã¨å¯å¤‰(ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«)ãªå¤‰æ•°ãŒå®šç¾©ã•ã‚Œã¾ã™ã€‚
å†ä»£å…¥ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

```rust
let mut x = 5; // åˆæœŸåŒ– & å¤‰æ•°å®£è¨€
x = 10; // å†ä»£å…¥
```

---

# variables1.rs å•é¡Œ

```rust
fn main() {
    // TODO: Add the missing keyword.
    x = 5;

    println!("x has the value {x}");
}
```

---

# variables1.rs å›ç­”ä¾‹

`let` ã‚’ã¤ã‘ã¦ã€å¤‰æ•°å®£è¨€ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```rust
fn main() {
    let x = 5;

    println!("x has the value {x}");
}
```

---

# variables2.rs å•é¡Œ

`0` ã§åˆæœŸåŒ–ã—ã¦ãã‚ŒãŸã‚Šã¯ã—ã¾ã›ã‚“ã€‚å¤‰æ•°ã®åˆæœŸåŒ–ãŒå¿…è¦ã§ã™ã€‚

```rust
fn main() {
    // TODO: Change the line below to fix the compiler error.
    let x;

    if x == 10 {
        println!("x is ten!");
    } else {
        println!("x is not ten!");
    }
}
```

---

# variables2.rs å›ç­”ä¾‹

```rust
fn main() {
    let x = 5;

    if x == 10 {
        println!("x is ten!");
    } else {
        println!("x is not ten!");
    }
}
```

---

# variables3.rs å•é¡Œ

`variable2.rs` ã¨åŒã˜ã§ã™ã€‚åˆæœŸåŒ–ãŒãªã„ã®ã§ä¸æ­£ã«ãªã£ã¦ã„ã¾ã™ã€‚

```rust
fn main() {
    // TODO: Change the line below to fix the compiler error.
    let x: i32;

    println!("Number {x}");
}
```

---

# variables3.rs å›ç­”ä¾‹

```rust
fn main() {
    let x: i32 = 5;

    println!("Number {x}");
}
```

---

# Tips: åˆæœŸåŒ–ã®ãªã„ let æ–‡ (1/2)

æ ¼ç´ã•ã‚ŒãŸå€¤ãŒåˆ©ç”¨ã•ã‚Œã‚‹å‰ã«ã€å€¤ã‚’ã¡ã‚ƒã‚“ã¨è¨­å®šã™ã‚‹ãªã‚‰ã°ã€

- `let x;`
- `let x: u32;` (å‹æ¨è«–ãŒåˆæœŸåŒ–æ™‚ã«åŠ¹ã‹ãªã„ã¨ã)

ä¸Šè¨˜ã®ã‚ˆã†ãªæ›¸ãæ–¹ã‚‚å¯èƒ½ã§ã™ï¼ãŸã æ»…å¤šã«ä½¿ã‚ãªã„ã§ã™ã€‚

---

# Tips: åˆæœŸåŒ–ã®ãªã„ let æ–‡ (2/2)

```rust
fn func(flag: bool) {
    let x; // ã¨ã‚Šã‚ãˆãšã‚¹ã‚³ãƒ¼ãƒ—ã«å­˜åœ¨ã™ã‚‹ã‚ˆã†å®£è¨€ã®ã¿

    if flag { // ä¾‹ãˆã°åˆ†å²ç­‰ã§åˆæœŸåŒ–çµæœãŒå¤‰ã‚ã‚‹
        x = 5;
    } else {
        x = 10;
    }
    println!("{}", x);

    // ifå¼ã‚’ä½¿ã£ãŸã»ã†ãŒèª­ã¿ã‚„ã™ã„
    let x = if flag { 5 } else { 10 };
}
```

---

# variables3.rs åˆ¥è§£

ä½¿ç”¨å‰ã«åˆæœŸåŒ–ã•ã‚Œã‚Œã°è‰¯ã„ã®ã§æ¬¡ã‚‚æ­£è§£ã¨ãªã‚Šã¾ã™ã€‚
(ãŸã ã—ãƒªãƒ³ã‚¿ãƒ¼ãŒè­¦å‘Šã‚’å‡ºã—ã¾ã™ã€‚)

```rust
fn main() {
    let x: i32;

    x = 5;

    println!("Number {x}");
}
```

---

# variables4.rs å•é¡Œ

```rust
// TODO: Fix the compiler error.
fn main() {
    let x = 3;
    println!("Number {x}");

    x = 5; // Don't change this line
    println!("Number {x}");
}
```

ãƒ’ãƒ³ãƒˆ: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ç­”ãˆãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚

---

# variables4.rs å›ç­”ä¾‹

```rust
fn main() {
    let mut x = 3;
    println!("Number {x}");

    x = 5; // Don't change this line
    println!("Number {x}");
}
```

---

# ã‚·ãƒ£ãƒ‰ãƒ¼ã‚¤ãƒ³ã‚°

Rustã§ã¯ã€ `let` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã„
åŒã˜å¤‰æ•°åã§ **ã‚‚ã†ä¸€åº¦å¤‰æ•°å®£è¨€ã‚’ã™ã‚‹ã“ã¨ãŒå¯èƒ½** ã§ã™ã€‚

ã“ã‚Œã‚’ **ã‚·ãƒ£ãƒ‰ãƒ¼ã‚¤ãƒ³ã‚°** ã¨ã„ã„ã¾ã™ã€‚
ä½¿ã„ã¾ã‚ã›ãšå¤‰ãªå¤‰æ•°åã‚’è€ƒãˆã‚‹ã€ã¿ãŸã„ãªã“ã¨ãŒãªãä¾¿åˆ©ã§ã™ã€‚ 

```rust
let x = 5;
let x = 10; // ã‚‚ã†ä¸€åº¦å®£è¨€
let x = "Hoge"; // å‹ãŒé•ã£ã¦ã‚‚ã‚ˆã„
```

---

# variables5.rs å•é¡Œ

å‹ãŒç•°ãªã‚‹ã®ã§ `let mut` ã§ã®å¤‰æ›´ã¯ã§ãã¾ã›ã‚“ã€‚

```rust
fn main() {
    let number = "T-H-R-E-E"; // Don't change this line
    println!("Spell a number: {}", number);

    // TODO: Fix the compiler error by changing the line below without renaming the variable.
    number = 3;
    println!("Number plus two is: {}", number + 2);
}
```

---

# variables5.rs å›ç­”ä¾‹

ã‚·ãƒ£ãƒ‰ãƒ¼ã‚¤ãƒ³ã‚°ã—ã¦ã—ã¾ã„ã¾ã—ã‚‡ã†ï¼

```rust
fn main() {
    let number = "T-H-R-E-E"; // Don't change this line
    println!("Spell a number: {}", number);

    let number = 3;
    println!("Number plus two is: {}", number + 2);
}
```

---

# å®šæ•°

`const PI: f32 = 3.14;` ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§å®šæ•°ã‚’å®šç¾©ã§ãã¾ã™ã€‚

å®Ÿè¡Œæ™‚ã«å€¤ãŒæ±ºã¾ã£ã¦ã‚‚ã„ã„ `let` ã§ã®å®šç¾©ã¨ç•°ãªã‚Šã€
å®šæ•°ã¯ **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«** å€¤ãŒæ±ºã¾ã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```rust
use rand::Rng;

fn main() {
    let mut rng = rand::rng();

    let random_val: u32 = rng.random(); // <- âœ… OK
    const RANDOM_VAL: u32 = rng.random(); // â† ğŸš« ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
}
```

---

# variables6.rs å•é¡Œ

```rust
// TODO: Change the line below to fix the compiler error.
const NUMBER = 3;

fn main() {
    println!("Number: {NUMBER}");
}
```

---

# variables6.rs å›ç­”ä¾‹

å®šæ•°ã¯å‹ã‚’æ˜è¨˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```rust
const NUMBER: usize = 3;

fn main() {
    println!("Number: {NUMBER}");
}
```

---
<!--
footer: "Rustå‹‰å¼·ä¼š2ã€ç¬¬2å›ã€‘(2. é–¢æ•°)"
-->

<div class="group-title">
    <h1>2. é–¢æ•°</h1>
</div>

---

# é–¢æ•°å®šç¾©ãƒ» `fn` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰

é–¢æ•°ã¯æ¬¡ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§å®£è¨€ã§ãã¾ã™ã€‚

```rust
fn é–¢æ•°å(å¼•æ•°1: å¼•æ•°å‹, å¼•æ•°2: å¼•æ•°å‹, /*...*/) -> è¿”ã‚Šå€¤å‹ {
    å‡¦ç†æ–‡1;
    å‡¦ç†æ–‡2;
    //...

    è¿”ã‚Šå€¤
}
```

è¿”ã‚Šå€¤å‹ / è¿”ã‚Šå€¤ã¯çœç•¥å¯èƒ½ã§ã€çœç•¥æ™‚ã¯ `()` (ãƒ¦ãƒ‹ãƒƒãƒˆå‹) ã«ãªã‚Šã¾ã™ã€‚

---

# functions1.rs å•é¡Œ

```rust
// TODO: Add some function with the name `call_me` without arguments or a return value.

fn main() {
    call_me(); // Don't change this line
}
```

---

# functions1.rs å›ç­”ä¾‹

nopãªé–¢æ•° `call_me` ã‚’å®šç¾©ã™ã‚Œã°ã‚ˆã„ã§ã™ã€‚

```rust
fn call_me() {}

fn main() {
    call_me(); // Don't change this line
}
```

---

# functions2.rs å•é¡Œ

```rust
// TODO: Add the missing type of the argument `num` after the colon `:`.
fn call_me(num:) {
    for i in 0..num {
        println!("Ring! Call number {}", i + 1);
    }
}

fn main() {
    call_me(3);
}
```

---

# functions2.rs å›ç­”ä¾‹

é–¢æ•°ã®å¼•æ•°ãŠã‚ˆã³(ãƒ¦ãƒ‹ãƒƒãƒˆå‹ã§ãªã„)è¿”ã‚Šå€¤ã«ã¤ã„ã¦ã¯ã€
å‹ã®çœç•¥ãŒä¸å¯èƒ½ã§ã™ã€‚æ¨è«–ã¯ã•ã‚Œã¾ã›ã‚“ã€‚

```rust
fn call_me(num: usize) { // usizeä»¥å¤–ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™
    for i in 0..num {
        println!("Ring! Call number {}", i + 1);
    }
}

fn main() {
    call_me(3);
}
```

---

# functions3.rs å•é¡Œ

```rust
fn call_me(num: u8) {
    for i in 0..num {
        println!("Ring! Call number {}", i + 1);
    }
}

fn main() {
    // TODO: Fix the function call.
    call_me();
}
```

---

# functions3.rs å›ç­”ä¾‹

å‘¼ã³å‡ºã—æ™‚ã®å¼•æ•°çœç•¥ã‚‚ä¸å¯èƒ½ã§ã™ã€‚
ã€Œçœç•¥ã—ãŸã‚‰ `0` ã‚„ `NULL` ã«ãªã‚‹ã€ã¿ãŸã„ãªã“ã¨ã¯èµ·ãã¾ã›ã‚“ã€‚

```rust
fn call_me(num: u8) {
    for i in 0..num {
        println!("Ring! Call number {}", i + 1);
    }
}

fn main() {
    call_me(10);
}
```

---

# functions4.rs å•é¡Œ (1/2)

```rust
// This store is having a sale where if the price is an even number, you get 10
// Rustbucks off, but if it's an odd number, it's 3 Rustbucks off.
// Don't worry about the function bodies themselves, we are only interested in
// the signatures for now.

fn is_even(num: i64) -> bool {
    num % 2 == 0
}
```

ã‚³ãƒ¡ãƒ³ãƒˆã®å’Œè¨³: ã€Œã“ã®ãŠåº—ã§ã¯ã‚»ãƒ¼ãƒ«ã‚’ã—ã¦ãŠã‚Šã€å¶æ•°ã®æ™‚ã¯10Rustbacksã‚’ã€å¥‡æ•°ã®æ™‚ã¯3Rustbacksã‚’å€¤å¼•ãã—ã¾ã™ã€‚é–¢æ•°æœ¬ä½“ã«ã¤ã„ã¦ã¯æ°—ã«ã—ãªãã¦ã‚ˆã„ã§ã™ã€‚ã‚·ã‚°ãƒãƒãƒ£ã‚’è¦‹ã¦ãã ã•ã„ã€‚ã€

---

# functions4.rs å•é¡Œ (2/2)

```rust
// TODO: Fix the function signature.
fn sale_price(price: i64) -> {
    if is_even(price) {
        price - 10
    } else {
        price - 3
    }
}

fn main() {
    let original_price = 51;
    println!("Your sale price is {}", sale_price(original_price));
}
```

---

# functions4.rs å›ç­”ä¾‹

è¿”ã‚Šå€¤ã®å‹ã¯æ¨è«–ã—ã¦ãã‚Œãªã„ã®ã§è‡ªåˆ†ã§è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```rust
fn sale_price(price: i64) -> i64 {
    if is_even(price) { // ifå¼ã®è©•ä¾¡å€¤ãŒè¿”ã‚Šå€¤ã«ãªã£ã¦ã„ã‚‹
        price - 10 // i64 å‹ã®æ¼”ç®—çµæœãªã®ã§ i64 å‹
    } else {
        price - 3 // trueç¯€ã¨åŒã˜å‹
    }
}
```

---

# functions5.rs å•é¡Œ

ã‚·ã‚°ãƒãƒãƒ£ã‚’å¤‰ãˆãšã«ä¿®æ­£ã›ã‚ˆã¨ã®ã“ã¨ã§ã™ã€‚

```rust
// TODO: Fix the function body without changing the signature.
fn square(num: i32) -> i32 {
    num * num;
}

fn main() {
    let answer = square(3);
    println!("The square of 3 is {answer}");
}
```

---

# functions5.rs å›ç­”ä¾‹

èª¤ã£ã¦ã‚»ãƒŸã‚³ãƒ­ãƒ³ã‚’å…¥ã‚Œã¦ã—ã¾ã£ã¦ã„ãŸã‚ˆã†ã§ã™ã€‚

```rust
fn square(num: i32) -> i32 {
    num * num
}

fn main() {
    let answer = square(3);
    println!("The square of 3 is {answer}");
}
```
