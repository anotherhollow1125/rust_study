---
marp: true
theme: rustlings
footer: "Rustå‹‰å¼·ä¼š2ndã€ç¬¬4å›ã€‘"
paginate: true
---
<!--
_footer: ""
_paginate: skip
-->

<div class="topbottom-align">
<div class="slide-title">
    <h1>Rustå‹‰å¼·ä¼š2nd</h1>
</div>

<div class="slide-info">
    <div>ã€œã€ç¬¬4å›ã€‘ifãƒ»ãƒ‡ãƒ¼ã‚¿å‹(1) ã€œ</div>
</div>
</div>

---

# æœ¬æ—¥ã®RustãƒŸãƒ‹ã‚¯ã‚¤ã‚ºï¼

- Q1. `u64` å‹ã®æœ€å¤§å€¤ã¯ã„ãã¤ã§ã—ã‚‡ã†ï¼Ÿ

- Q2. `i32` å‹ã®æœ€å°å€¤ãƒ»æœ€å¤§å€¤ã¯ã„ãã¤ã§ã—ã‚‡ã†ï¼Ÿ

---

# ã€ç¬¬4å›ã€‘ç›®æ¬¡

1. if å¼
   1. if å¼ã®èª¬æ˜
   2. if1.rs ~ if3.rs
2. Quiz1
3. ãƒ‡ãƒ¼ã‚¿å‹
   1. ãƒ‡ãƒ¼ã‚¿å‹ã«é–¢ã™ã‚‹èª¬æ˜
     - æ•´æ•°å‹ã¨æ–‡å­—å‹ã¯è©³ç´°ã‚‚è§£èª¬
   2. primitive_types1.rs, primitive_types2.rs

---
<!--
footer: "Rustå‹‰å¼·ä¼š2ndã€ç¬¬4å›ã€‘(1. if å¼)"
-->

<div class="group-title">
    <h1>1. if å¼</h1>
</div>

---

# if "å¼" ï¼Ÿ

Rustã¯ **å¼å¿—å‘** è¨€èªã§ã€å¤šãã®æ§‹æ–‡ãŒ **å¼** ã«ãªã£ã¦ã„ã¾ã™ï¼

```rust
let val = if flag { a } else { b };
```

`if` ã‚‚æ–‡ã§ã¯ãªãå¼ãªã®ã§ã€ä¸‰é …æ¼”ç®—å­ã®ã‚ˆã†ã«ä½¿ãˆã¾ã™ï¼

---

# ifå¼

```rust
if boolå‹ã®å€¤ {
    æ–‡1;
    // ...
    trueã®æ™‚ã®å€¤
} else {
    æ–‡;
    // ...
    falseã®æ™‚ã®å€¤
}
```

---

# ifå¼ æ³¨æ„ç‚¹

```rust
if boolå‹ã®å€¤ { å€¤1 } else { å€¤2 }
```

- `()` (ãƒ¦ãƒ‹ãƒƒãƒˆå‹)ã‚’è¿”ã™(= ä½•ã‚‚è¿”ã•ãªã„)æ™‚ã¯ `else` ç¯€çœç•¥å¯èƒ½
- æ¡ä»¶ç¯€ã¯ **å¿…ãš `bool` å‹**
  - `1` ãŒ `true` ã«ã‚­ãƒ£ã‚¹ãƒˆã•ã‚ŒãŸã‚Šã¯ã—ã¾ã›ã‚“
- å…¨ã¦ã®ç¯€ã®è¿”ã‚Šå€¤ã¯ä¸€è‡´ã®å¿…è¦ã‚ã‚Š

---

# if1.rs å•é¡Œ

```rust
fn bigger(a: i32, b: i32) -> i32 {
    // TODO: Complete this function to return the bigger number!
    // If both numbers are equal, any of them can be returned.
    // Do not use:
    // - another function call
    // - additional variables
}

fn main() {
    // You can optionally experiment here.
}
```

---

```rust
// Don't mind this for now :)
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn ten_is_bigger_than_eight() {
        assert_eq!(10, bigger(10, 8));
    }

    // ç•¥
}
```

ã“ã¡ã‚‰ã¯Rustã®ãƒ†ã‚¹ãƒˆã«ãªã‚Šã¾ã™ã€‚Rustã®ãƒ†ã‚¹ãƒˆã¯å®Ÿè£…ã¨åŒã˜å ´æ‰€ã«æ›¸ã„ã¦ãŠãã“ã¨ãŒã§ãã¾ã™ã€‚

---

# if2.rs å•é¡Œ

```rust
// TODO: Fix the compiler error on this function.
fn picky_eater(food: &str) -> &str {
    if food == "strawberry" {
        "Yummy!"
    } else {
        1
    }
}

fn main() {
    // You can optionally experiment here.
}
```

---

- TODO: ç†æƒ³ã®æŒ™å‹•ã‚’çŸ¥ã‚‹ãŸã‚ã«ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆã‚’èª­ã¿ã¾ã—ã‚‡ã†
- ã“ã‚Œã‚‰ã‚’å¤‰ãˆã‚‹ã“ã¨ãªãå…¨ã¦ã®ãƒ†ã‚¹ãƒˆã‚’ãƒ‘ã‚¹ã—ã¦ãã ã•ã„

```rust
// TODO: Read the tests to understand the desired behavior.
// Make all tests pass without changing them.
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn yummy_food() {
        // This means that calling `picky_eater` with the argument "food" should return "Yummy!".
        assert_eq!(picky_eater("strawberry"), "Yummy!");
    }

    // ç¶šã
    // ...
}
```

---

```rust
#[cfg(test)]
mod tests {
    use super::*;

    // ...
    // ãƒ†ã‚¹ãƒˆç¶šã
    #[test]
    fn neutral_food() {
        assert_eq!(picky_eater("potato"), "I guess I can eat that.");
    }

    #[test]
    fn default_disliked_food() {
        assert_eq!(picky_eater("broccoli"), "No thanks!");
        assert_eq!(picky_eater("gummy bears"), "No thanks!");
        assert_eq!(picky_eater("literally anything"), "No thanks!");
    }
}
```

---

# if3.rs å•é¡Œ

```rust
fn animal_habitat(animal: &str) -> &str {
    // TODO: Fix the compiler error in the statement below.
    let identifier = if animal == "crab" {
        1
    } else if animal == "gopher" {
        2.0
    } else if animal == "snake" {
        3
    } else {
        "Unknown"
    };

    // ç¶šã
    // ...
}
```

---

å¾ŒåŠã¯å¤‰ãˆã¾ã›ã‚“ã€‚

```rust
fn animal_habitat(animal: &str) -> &str {
    // ...
    // ç¶šã

    // Don't change the expression below!
    if identifier == 1 {
        "Beach"
    } else if identifier == 2 {
        "Burrow"
    } else if identifier == 3 {
        "Desert"
    } else {
        "Unknown"
    }
}
```

---

å‹•ç‰©ã®åå‰ã‚’å…¥åŠ›ã™ã‚‹ã¨ç”Ÿæ¯åœ°ã‚’è¿”ã—ã¦ãã‚Œã‚‹é–¢æ•°ã®ã‚ˆã†ã§ã™ã€‚

```rust
// Don't change the tests!
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn gopher_lives_in_burrow() {
        assert_eq!(animal_habitat("gopher"), "Burrow")
    }

    // çœç•¥
}
```

---

# if1.rs å›ç­”ä¾‹

é–¢æ•°å‘¼ã³å‡ºã—ãŒç¦æ­¢ã•ã‚Œã¦ã„ã‚‹ãŸã‚(`a.max(b)` ã¯ãƒ€ãƒ¡)ã€ 
`if` å¼ã‚’ä½¿ã£ã¦å›ç­”ã—ã¾ã™ã€‚

```rust
fn bigger(a: i32, b: i32) -> i32 {
    if a > b {
        a
    } else {
        b
    }
}
```

---

# if2.rs å›ç­”ä¾‹

- è¿”ã‚Šå€¤å‹ã‚’æƒãˆã‚‹
- ãƒ†ã‚¹ãƒˆã‚’ã‚ˆãèª­ã‚“ã§åˆ†å²ã‚’è€ƒãˆã‚‹

```rust
fn picky_eater(food: &str) -> &str {
    if food == "strawberry" {
        "Yummy!"
    } else if food == "potato" {
        "I guess I can eat that."
    } else {
        "No thanks!"
    }
}
```

---

# if3.rs å›ç­”ä¾‹

- å‹ã‚’æƒãˆã‚‹

```rust
let identifier = if animal == "crab" {
    1
} else if animal == "gopher" {
    2
} else if animal == "snake" {
    3
} else {
    0
};
```

---

# if3.rs åˆ¥è§£

æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã£ã¦ã—ã¾ã†ã®ã‚‚æ‰‹ã§ã™ã€‚

```rust
let identifier = if animal == "crab" {
    1
} else if animal == "gopher" {
    // ...çœç•¥...
} else {
    return "Unknown";
};
```

`return "Unknown"` ã®å¼ã¨ã—ã¦ã®å‹ã¯ `!` (never)å‹ãªã®ã§ã€
å‹å¼·åˆ¶ã«ã‚ˆã‚Š `i32` å‹(ãªã©)ã§ã‚ã‚‹ã¨ã¿ãªã—ã¦ã‚‚ã‚‰ãˆã¾ã™ã€‚

---

# quiz1.rs å•é¡Œ

ãƒãƒªãƒ¼ã¯ãƒªãƒ³ã‚´ã‚’è²·ãŠã†ã¨ã—ã¦ã„ã¾ã™ã€‚
ä¾¡æ ¼ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨ˆç®—ã•ã‚Œã¾ã™ã€‚

- ãƒªãƒ³ã‚´1å€‹ã¯ 2 rustbucks ã§ã™ã€‚
- ã—ã‹ã—ã€40å€‹ã‚ˆã‚Šå¤šãè²·ã†ã¨ã€å…¨ã¦ 1 rustbucksã«ãªã‚Šã¾ã™ï¼

æ¬¡ã®é–¢æ•°ã‚’å®Œæˆã•ã›ã¦ãã ã•ã„

```rust
fn calculate_price_of_apples(???) -> ??? { ??? }
```

---

# quiz1.rs å›ç­”ä¾‹

```rust
fn calculate_price_of_apples(quantity: u32) -> u32 {
    if quantity <= 40 {
        quantity * 2
    } else {
        quantity
    }
}
```

- é©åˆ‡ãªã‚·ã‚°ãƒãƒãƒ£ã‚’è¦‹ã¤ã‘ã‚‹
- `if` å¼ã‚’æ´»ç”¨ã™ã‚‹

ã¨ã„ã†ã‚¯ã‚¤ã‚ºã§ã—ãŸ

---
<!--
footer: "Rustå‹‰å¼·ä¼š2ndã€ç¬¬4å›ã€‘(2. ãƒ‡ãƒ¼ã‚¿å‹ (1))"
-->

<div class="group-title">
    <h1>2. ãƒ‡ãƒ¼ã‚¿å‹ (1)</h1>
</div>

---

# ã‚¹ã‚«ãƒ©ãƒ¼å‹

ä»–ã®è¨€èªã«ã‚‚ã‚ã‚‹åŸºæœ¬çš„ãªå‹ãŒå­˜åœ¨

- æ•´æ•°å‹ `u32`, `isize` ãªã©
- æµ®å‹•å°æ•°ç‚¹æ•° `f32`, `f64` ãªã©
- è«–ç†å€¤ `bool` ( `true` / `false` )
- æ–‡å­— `char`

---

# æ•´æ•°å‹

`iã€‡ã€‡` ãŒç¬¦å·ä»˜ãã€ `uã€‡ã€‡` ãŒç¬¦å·ãªã—æ•´æ•°

<div class="mini-font-marker-7">
</div>

|å¤§ãã•|ç¬¦å·ä»˜ã|ç¬¦å·ãªã—|
|----:|:-----:|:-----:|
|8-bit| i8 | u8 |
|16-bit| i16|u16|
|32-bit|i32|u32|
|64-bit|i64|u64|
|ã‚¢ãƒ¼ã‚­ä¾å­˜|isize|usize|

`usize` ã¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã£ã¦å¤§ãã•ãŒå¤‰ã‚ã‚‹ç‰¹æ®Šãªå‹
é…åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã—ã¦ä½¿ç”¨

---

# æ•´æ•°å‹ã®ãƒªãƒ†ãƒ©ãƒ«

- `_` ã‚’ä½¿ã†ã“ã¨ã§ä»»æ„ã®å ´æ‰€ã§åŒºåˆ‡ã‚Œã‚‹
- æœ€å¾Œã« `_å‹å` ã‚’ã¤ã‘ã‚‹ã“ã¨ã§å‹ã‚’æŒ‡å®šå¯èƒ½

```rust
let price: i32 = 12_3456;
println!("{}å††", price);

let val = 255_u8;
```

---

# æ–‡å­—å‹ `char`

- Cè¨€èªåŒæ§˜ã€ãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã§ã¯ãªãã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã§å›²ã‚€
- å®Ÿè³ª `i8` / `u8` ã¨åŒã˜ãªCè¨€èªã¨ç•°ãªã‚Š
åŸºæœ¬ **ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰1æ–‡å­—** ã‚’è¡¨ã™

```rust
let a: char = 'a'; // ASCIIç¯„å›²ã€‚8ãƒ“ãƒƒãƒˆç¯„å›²å†… Cè¨€èªã ã¨ char == u8
let big_a: char = 'A';

let atsu: char = 'æš‘'; // Unicodeç¯„å›² UTF-8 Rustã§ã¯ char != u8
let emoji: char = 'ğŸ¥µ';
```

æ–‡å­—"åˆ—" (`String` / `&str`) å‹ã«ã¤ã„ã¦ã¯æ”¹ã‚ã¦åˆ¥ãªå›ã§

---

# primitive_types1.rs å•é¡Œ

```rust
// Booleans (`bool`)

fn main() {
    let is_morning = true;
    if is_morning {
        println!("Good morning!");
    }

    // TODO: Define a boolean variable with the name `is_evening` before the `if` statement below.
    // The value of the variable should be the negation (opposite) of `is_morning`.
    // let â€¦
    if is_evening {
        println!("Good evening!");
    }
}
```

---

# primitive_types2.rs å•é¡Œ (1/2)

```rust
// Characters (`char`)

fn main() {
    // ã“ã“ã¾ã§ã§ã‚ˆãã¿ã¦ããŸãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã§ã¯ãªãã€
    // ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã§ã‚ã‚‹ã“ã¨ã«æ°—ã‚’ã¤ã‘ã¦ãã ã•ã„
    let my_first_initial = 'C';
    if my_first_initial.is_alphabetic() {
        println!("Alphabetical!");
    } else if my_first_initial.is_numeric() {
        println!("Numerical!");
    } else {
        println!("Neither alphabetic nor numeric!");
    }

    // ç¶šã
}
```

---

# primitive_types2.rs å•é¡Œ (2/2)

```rust
fn main() {
    // ç¶šã

    // TODO: å‰ã®ä¾‹ã‚’çœŸä¼¼ã¦å¥½ããªæ–‡å­—ã§ `your_character` ã‚’å®šç¾©ã—ã‚ˆã†
    // çµµæ–‡å­—ãƒ»æ•°å­—ãƒ»ç‰¹æ®Šæ–‡å­—ãªã‚“ã§ã‚‚Ok!
    // let your_character = '';

    if your_character.is_alphabetic() {
        println!("Alphabetical!");
    } else if your_character.is_numeric() {
        println!("Numerical!");
    } else {
        println!("Neither alphabetic nor numeric!");
    }
}
```

---

# primitive_types1.rs å›ç­”ä¾‹

Rustã®çœŸå½å€¤ã¯ (å¤šãã®è¨€èªã¨åŒã˜ã§Pythonã¨é•ã„)
`true` / `false` ã®ã‚ˆã†ã«å°æ–‡å­—å§‹ã¾ã‚Šã§è¡¨ã—ã¾ã™

```rust
let is_evening = false;
if is_evening {
    println!("Good evening!");
}
```

---

# primitive_types2.rs å›ç­”ä¾‹

è©¦ã—ã«æ•°å­—ã‚’æŒ‡å®šã—ã¦ã¿ã‚‹ã¨ `Numerical!` ã«ãªã‚Šã¾ã™ã€‚

```rust
let your_character = '5';
```

ã¡ãªã¿ã«ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ã‚’ãã®ã¾ã¾æ›¸ãæ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ï¼

```rust
let your_character = '\u{4E94}'; // äº”
```

`äº”` ã¯ `Alphabetical!` ã‚‰ã—ã„ã§ã™ã€‚

---

# æœ¬æ—¥ã®RustãƒŸãƒ‹ã‚¯ã‚¤ã‚ºï¼ (å†æ²)

- Q1. `u64` å‹ã®æœ€å¤§å€¤ã¯ã„ãã¤ã§ã—ã‚‡ã†ï¼Ÿ

- Q2. `i32` å‹ã®æœ€å°å€¤ãƒ»æœ€å¤§å€¤ã¯ã„ãã¤ã§ã—ã‚‡ã†ï¼Ÿ

---

# ãƒŸãƒ‹ã‚¯ã‚¤ã‚ºç­”ãˆ

- Q1. `u64` ã®æœ€å¤§å€¤

2^64 - 1 = 18446744073709551615

- Q2. `i32`
  - æœ€å°å€¤: - 2^31 = -2147483648
  - æœ€å¤§å€¤: 2 ^ 31 - 1 = 2147483647

- ç¬¦å·ä»˜ãæ•´æ•°ã¯2ã®è£œæ•°è¡¨ç¾ã§ã™
- å„å‹ã® `MAX`, `MIN` å®šæ•°ã§çŸ¥ã‚‹ã“ã¨ãŒã§ãã¾ã™

---

# (è£œè¶³ã‚¹ãƒ©ã‚¤ãƒ‰) 2ã®è£œæ•°è¡¨ç¾

- è² æ•°ã‚’ã€Œæ­£ã®æ•°ã‚’ãƒ“ãƒƒãƒˆåè»¢ã—1ã‚’è¶³ã—ãŸã‚‚ã®ã€ã§è¡¨ç¾
  - è² æ•°ã®æœ€ä¸Šä½ãƒ“ãƒƒãƒˆã¯1ã«
- 1ã®è£œæ•°ã¨æ¯”ã¹ã‚‹ã¨
  - è¡¨ç¾ã§ãã‚‹æ•°ã®ç¨®é¡ãŒ1ã¤å¤šã„
    - (1ã®è£œæ•°ã«ã¯+0, -0ãŒã‚ã‚‹)
  - æ­£ã®æ•°ã®æ¸›åŠ ç®—å™¨ãŒãã®ã¾ã¾ä½¿ãˆã‚‹

å‚è€ƒ

- [https://wa3.i-3-i.info/diff950data.html]
- [https://zenn.dev/ippei523/articles/af5ca97120c860]
